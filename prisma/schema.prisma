generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id                Int    @id @default(autoincrement())
  email             String @db.VarChar(250)
  name              String @db.VarChar(255)
  password          String @db.VarChar(255)
  status            String @db.VarChar(250)
  verification_code Int

  // հարաբերություն
  companies user_company[]
}

model user_company {
  id                  Int    @id @default(autoincrement())
  user_id             Int
  name                String @db.VarChar(10000)
  inn                 Int
  city                String @db.VarChar(255)
  Industry            Int
  interest_categories String @db.VarChar(255)
  sites               Json
  image_path          String @db.VarChar(1000)
  status              String @db.VarChar(255)
  plan                String @db.VarChar(255)

  user    users             @relation(fields: [user_id], references: [id])
  reviews company_reviews[]
}

model company_reviews {
  id         Int    @id @default(autoincrement())
  company_id Int
  count      Int
  review     String @db.Text

  company user_company @relation(fields: [company_id], references: [id])
}
